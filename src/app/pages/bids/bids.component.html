<div [ngClass]="'inner-width-small table-container'" [ngClass.gt-sm]="'inner-width table-container'" *ngIf="dataSource">
    <table mat-table [dataSource]="dataSource" matSort>
        <ng-container matColumnDef="cud" sticky="true">
            <th mat-header-cell *matHeaderCellDef class="cudColumn">
            </th>
            <td mat-cell *matCellDef="let row" class="cudColumn">
                KYK NA DIE CODE
                <!-- <button *ngIf="row.statusDescription==='Open' && user.vehicles !== 0"
                                        mat-icon-button class="cudButton" color="default" (click)="initUpsert(row, 0)"
                                        matTooltip="Update Bid" [disabled]="loading">
                                        <mat-icon class="fab-icon">edit</mat-icon>
                                    </button>
                                    <button *ngIf="row.statusDescription==='Open' && user.vehicles !== 0"
                                        mat-icon-button class="cudButton" color="default" (click)="initDelete(row.id, row.avatar)"
                                        matTooltip="Remove Bid" [disabled]="loading">
                                        <mat-icon class="fab-icon">delete</mat-icon>
                                    </button>
                                    <button
                                        *ngIf="row.loadStatusDescription==='Accepted' && row.statusDescription==='Accepted' && user.vehicles !== 0"
                                        mat-icon-button class="cudButton" color="default" (click)="updateStatus(row, 'Loaded')"
                                        matTooltip="Mark as Loaded" [disabled]="loading">
                                        <mat-icon class="fab-icon">check_circle_outline</mat-icon>
                                    </button>
                                    <button
                                        *ngIf="row.loadStatusDescription==='Loaded' && row.statusDescription==='Accepted' && row.load.userIdLoaded !== userId && user.loads !== 0"
                                        mat-icon-button class="cudButton" color="default" (click)="updateStatus(row, 'In Transit')"
                                        matTooltip="Confirm Loaded" [disabled]="loading">
                                        <mat-icon class="fab-icon">check_circle</mat-icon>
                                    </button>
                                    <button
                                        *ngIf="row.loadStatusDescription==='In Transit' && row.statusDescription==='Accepted' && user.vehicles !== 0"
                                        mat-icon-button class="cudButton" color="default" (click)="updateStatus(row, 'Delivered')"
                                        matTooltip="Mark as Delivered" [disabled]="loading">
                                        <mat-icon class="fab-icon">check_circle_outline</mat-icon>
                                    </button>
                                    <button
                                        *ngIf="row.loadStatusDescription==='Delivered' && row.statusDescription==='Accepted' && row.load.userIdDelivered !== userId && user.loads !== 0"
                                        mat-icon-button class="cudButton" color="default" (click)="updateStatus(row, 'Completed')"
                                        matTooltip="Confirm Delivered" [disabled]="loading">
                                        <mat-icon class="fab-icon">check_circle</mat-icon>
                                    </button> -->
            </td>
        </ng-container>
        <ng-container matColumnDef="userDescription">
            <th mat-header-cell *matHeaderCellDef>
                <p class="table-header" mat-sort-header="userDescription">UserId</p>
            </th>
            <td mat-cell *matCellDef="let row" class="table-cell"> {{row.userDescription}} </td>
        </ng-container>
        <ng-container matColumnDef="userCompany">
            <th mat-header-cell *matHeaderCellDef>
                <p class="table-header" mat-sort-header="userCompany">Company</p>
            </th>
            <td mat-cell *matCellDef="let row" class="table-cell">
                {{row.userCompany}} <br>
                <!-- <mat-star-rating [rating]="row.reviewLoad" [starCount]="5" [color]="starColorP"
                            (ratingUpdated)="onRatingChanged($event)"></mat-star-rating> -->
            </td>
        </ng-container>
        <ng-container matColumnDef="loadDescription">
            <th mat-header-cell *matHeaderCellDef>
                <p class="table-header" mat-sort-header="loadDescription">Load Description</p>
            </th>
            <td mat-cell *matCellDef="let row" class="table-cell"> {{row.loadDescription}} </td>
        </ng-container>
        <ng-container matColumnDef="vehicleDescription">
            <th mat-header-cell *matHeaderCellDef>
                <p class="table-header" mat-sort-header="vehicleDescription">Vehicle</p>
            </th>
            <td mat-cell *matCellDef="let row" class="table-cell"> {{row.vehicleDescription}} </td>
        </ng-container>
        <ng-container matColumnDef="driverDescription">
            <th mat-header-cell *matHeaderCellDef>
                <p class="table-header" mat-sort-header="driverDescription">Driver</p>
            </th>
            <td mat-cell *matCellDef="let row" class="table-cell">
                {{row.driverDescription}} <br>
                <!-- <mat-star-rating [rating]="row.reviewDriver" [starCount]="5" [color]="starColorP"
                            (ratingUpdated)="onRatingChanged($event)"></mat-star-rating> -->
            </td>
        </ng-container>
        <ng-container matColumnDef="price">
            <th mat-header-cell *matHeaderCellDef>
                <p class="table-header" mat-sort-header="price">Price</p>
            </th>
            <td mat-cell *matCellDef="let row" class="table-cell"> R{{row.price | number}} </td>
        </ng-container>
        <ng-container matColumnDef="dateOut">
            <th mat-header-cell *matHeaderCellDef>
                <p class="table-header" mat-sort-header="dateOut">Departure Date</p>
            </th>
            <td mat-cell *matCellDef="let row" class="table-cell"> {{row.dateOut | firestoreDate:'yyyy-MM-dd'}} </td>
        </ng-container>
        <ng-container matColumnDef="dateIn">
            <th mat-header-cell *matHeaderCellDef>
                <p class="table-header" mat-sort-header="dateIn">Delivery Date</p>
            </th>
            <td mat-cell *matCellDef="let row" class="table-cell"> {{row.dateIn | firestoreDate:'yyyy-MM-dd'}} </td>
        </ng-container>
        <ng-container matColumnDef="statusDescription">
            <th mat-header-cell *matHeaderCellDef>
                <p class="table-header" mat-sort-header="statusDescription">Status</p>
            </th>
            <td mat-cell *matCellDef="let row" class="table-cell"> {{row.statusDescription !==
                'Accepted' ? row.statusDescription : row.loadStatusDescription}} </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
</div>
<mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" [pageSize]="10" [disabled]="loading">
</mat-paginator>